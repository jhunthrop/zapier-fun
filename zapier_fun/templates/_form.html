{% macro render_field(field) -%}

{% set class="form-control" -%}
{% if field.data %}
  {% set error=None %}
  {% if field.errors %}
    {% set class="form-control is-invalid" %}
    {% set error=field.errors[0] %}
  {% else %}
    {% set class="form-control is-valid" %}
  {% endif -%}
{% endif -%}

<div class="form-row">
  <div class="col-md-12 mb-3">
    {{ field.label(for_=field.name) }}
    {{ field(class_=class, placeholder="Enter "+field.label.text, required=field.flags.required, **kwargs)|safe }}
    {% if error -%}
      <div class="invalid-feedback">
        {{ error }}
      </div>
    {% endif -%}
  </div>
</div>
{% endmacro -%}
